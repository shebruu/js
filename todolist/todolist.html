<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>to do list </title>
    <style>
        #btAdd {

            width: 15%;
            text-align: center;
            background-color: silver;
        }
        .btsupprimer{
            float: inline-end;
           cursor: pointer;
           border: none;

            padding: 10px 20px;
        }

        /*  qd on met le curseur sur la croix*/
        .btsupprimer:hover {
            background-color: red;

        }



        header {
            position: relative;
            color: silver;
            text-align: center;
            border: solid;
            background-color: red;

            height: 150px;


        }

        #champTxt {

            width: 60%;

        }

        ul li {
            display: block;
            position: static;
            padding: 8px 3px 20px;
            cursor: pointer;

        }



        /* plus foncé qd on place la souris dessus*/
        ul li:hover {
            background-color: silver;
        }

        /*  changement de couleur et barré qd on clique dessus */
        ul li.checked {
            background-color: yellowgreen;
            text-decoration: line-through;
            list-style-image: ✅;
        }

        ul li.verifie {
            background-color: greenyellow;
            text-decoration: line-through;

        }

        .position {
            position: relative;
            display: inline;
            background-color: white;
            /* pour la hauteur des 2 boutons */
            padding: 10px;

            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            font-size: medium;
        }
      
    </style>
</head>

<header>
    <h2>To Do List</h2>

    <div>


        <input class="position" type="text" id="champTxt" placeholder="Entrez une tache ...">

        <button class="position" type="submit" id="btAdd"> Ajouter</button> <br>

    </div>



</header>

<body>
    <table>
        <ul id="todolist">
            <li>ApprendreHTML <button class ='btsupprimer' onclick='fsupprimer'> x </button></li>
            <li>Pratiquer CSS <button class ='btsupprimer' onclick='fsupprimer'> x </button></li>
            <li>Programmer avec js<button class ='btsupprimer' onclick='fsupprimer'> x </button></li>

        </ul>
    </table>
    <script>
        //selectionner, recuperer
        var btAdd = document.getElementById("btAdd");
        var todoList = document.getElementById("todolist");


        /**
         * ajoute le champ de saisie entré et le bouton avec la croix a la liste quand on clique sur un bouton ajouter
         * retourne cette liste a l affichage
         * */
        btAdd.addEventListener("click", function () { // fct appelé au clic 
            var champTxt = document.getElementById("champTxt").value;
            // crée une nouvelle ligne  ds la liste
            var nouvelelement = document.createElement("li"); 
        
            //cree le contenu du champ saisi ds la ligne

            nouvelelement.innerHTML =champTxt+"<button class ='btsupprimer' onclick='fsupprimer'> x </button>";
           // ajoute l element a la fin de la liste li  
            todoList.appendChild(nouvelelement); 
            
        });

        

/**
 * ajoute une classe css pour un element sélectionnée dans la liste
 * */
        todolist.addEventListener("click", function (e) {
            if (e.target && e.target.nodeName == "LI") { //on vérifie que l' élément cliqué est un li 
                e.target.classList.toggle("verifie");
            }
        });

    
       

        /**
         * supprime un element de la liste quand on clique sur la croix
         * todo ne marche pas
         * */
        function fsupprimer(bouton){
        var btelement = bouton.parentNode;
        //supprimer l element parent du bouton element x 
          btelement.parentNode.removeChild(btelement);
             
         };
         var boutonsSupprimer = document.getElementsByClassName("supprimer");
   for (var i = 0; i < boutonsSupprimer.length; i++) {
    boutonsSupprimer[i].addEventListener("click", function() {
      fsupprimer(this);
    });
  };
    </script>
</body>

</html>